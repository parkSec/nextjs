'use client';
'use strict';

var react = require('@liveblocks/react');
var React = require('react');
var classNames = require('../../utils/class-names.js');
var getInitials = require('../../utils/get-initials.js');

function Avatar({ userId, className, ...props }) {
  const { user, isLoading } = react.useUser(userId);
  const resolvedUserName = React.useMemo(() => user?.name, [user]);
  const resolvedUserAvatar = React.useMemo(() => user?.avatar, [user]);
  const resolvedUserInitials = React.useMemo(
    () => resolvedUserName ? getInitials.getInitials(resolvedUserName) : void 0,
    [resolvedUserName]
  );
  const resolvedUserIdInitials = React.useMemo(
    () => !isLoading && !user ? getInitials.getInitials(userId) : void 0,
    [isLoading, user, userId]
  );
  return /* @__PURE__ */ React.createElement("div", {
    className: classNames.classNames("lb-avatar", className),
    "data-loading": isLoading ? "" : void 0,
    ...props
  }, resolvedUserAvatar && /* @__PURE__ */ React.createElement("img", {
    className: "lb-avatar-image",
    src: resolvedUserAvatar,
    alt: resolvedUserName
  }), resolvedUserInitials ? /* @__PURE__ */ React.createElement("span", {
    className: "lb-avatar-fallback",
    "aria-hidden": true
  }, resolvedUserInitials) : resolvedUserIdInitials ? /* @__PURE__ */ React.createElement("span", {
    className: "lb-avatar-fallback",
    "aria-label": userId,
    title: userId
  }, resolvedUserIdInitials) : null);
}

exports.Avatar = Avatar;
//# sourceMappingURL=Avatar.js.map
