{"version":3,"file":"get-thread-mark-ids.js","sources":["../../src/comments/get-thread-mark-ids.ts"],"sourcesContent":["import type { LexicalNode, TextNode } from \"lexical\";\nimport { $isTextNode } from \"lexical\";\n\nimport { $isThreadMarkNode } from \"./thread-mark-node\";\n\nexport default function $getThreadMarkIds(\n  node: TextNode,\n  offset: number\n): null | Array<string> {\n  let currentNode: LexicalNode | null = node;\n  while (currentNode !== null) {\n    if ($isThreadMarkNode(currentNode)) {\n      return currentNode.getIDs();\n    } else if (\n      $isTextNode(currentNode) &&\n      offset === currentNode.getTextContentSize()\n    ) {\n      const nextSibling = currentNode.getNextSibling();\n      if ($isThreadMarkNode(nextSibling)) {\n        return nextSibling.getIDs();\n      }\n    }\n    currentNode = currentNode.getParent();\n  }\n  return null;\n}\n"],"names":["$isThreadMarkNode","$isTextNode"],"mappings":";;;;;AAKwB,SAAA,iBAAA,CACtB,MACA,MACsB,EAAA;AACtB,EAAA,IAAI,WAAkC,GAAA,IAAA,CAAA;AACtC,EAAA,OAAO,gBAAgB,IAAM,EAAA;AAC3B,IAAI,IAAAA,gCAAA,CAAkB,WAAW,CAAG,EAAA;AAClC,MAAA,OAAO,YAAY,MAAO,EAAA,CAAA;AAAA,eAE1BC,mBAAY,CAAA,WAAW,KACvB,MAAW,KAAA,WAAA,CAAY,oBACvB,EAAA;AACA,MAAM,MAAA,WAAA,GAAc,YAAY,cAAe,EAAA,CAAA;AAC/C,MAAI,IAAAD,gCAAA,CAAkB,WAAW,CAAG,EAAA;AAClC,QAAA,OAAO,YAAY,MAAO,EAAA,CAAA;AAAA,OAC5B;AAAA,KACF;AACA,IAAA,WAAA,GAAc,YAAY,SAAU,EAAA,CAAA;AAAA,GACtC;AACA,EAAO,OAAA,IAAA,CAAA;AACT;;;;"}